<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2D –ü–ª–∞—Ç—Ñ–æ—Ä–º–µ—Ä PRO - –°—Ä–∞–∂–µ–Ω–∏–µ —Å –≤—Ä–∞–≥–∞–º–∏</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –∫–æ–º–ø–∞–∫—Ç–Ω–æ—Å—Ç–∏ */
        .compact .game-stats {
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin: 20px 0;
        }
        
        .compact .stat {
            padding: 10px;
            min-width: auto;
        }
        
        .compact .stat-icon {
            font-size: 1.5em;
            margin-bottom: 5px;
        }
        
        .compact .controls-section {
            gap: 20px;
            margin: 20px 0;
        }
        
        .compact .enemy-grid {
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }
        
        .compact .enemy-card {
            padding: 10px;
        }
        
        .compact .goals-grid {
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
        }
        
        .compact .goal {
            padding: 8px;
            font-size: 0.85em;
        }
        
        .screen-content {
            max-height: 70vh;
            overflow-y: auto;
            padding-right: 10px;
        }
        
        .screen-content::-webkit-scrollbar {
            width: 8px;
        }
        
        .screen-content::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
        }
        
        .screen-content::-webkit-scrollbar-thumb {
            background: #3498db;
            border-radius: 4px;
        }
        
        @media (max-height: 800px) {
            .screen {
                max-height: 90vh;
                overflow-y: auto;
            }
            
            .game-stats {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .enemy-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <canvas id="gameCanvas" width="800" height="600"></canvas>
        
        <!-- –°—Ç–∞—Ä—Ç–æ–≤—ã–π —ç–∫—Ä–∞–Ω -->
        <div id="startScreen" class="screen compact">
            <div class="screen-content">
                <h1>üè∞ –ü–õ–ê–¢–§–û–†–ú–ï–† PRO</h1>
                <p class="subtitle">–°—Ä–∞–∂–∞–π—Å—è, —Å–æ–±–∏—Ä–∞–π, –ø–æ–±–µ–∂–¥–∞–π!</p>
                
                <div class="game-stats">
                    <div class="stat">
                        <span class="stat-icon">‚öîÔ∏è</span>
                        <span class="stat-text">5 —É—Ä–æ–≤–Ω–µ–π</span>
                    </div>
                    <div class="stat">
                        <span class="stat-icon">üëæ</span>
                        <span class="stat-text">4 –≤—Ä–∞–≥–∞</span>
                    </div>
                    <div class="stat">
                        <span class="stat-icon">‚≠ê</span>
                        <span class="stat-text">5 –±–æ–Ω—É—Å–æ–≤</span>
                    </div>
                    <div class="stat">
                        <span class="stat-icon">üëë</span>
                        <span class="stat-text">1 –±–æ—Å—Å</span>
                    </div>
                </div>
                
                <div class="controls-section">
                    <div class="controls-column">
                        <h3>üéÆ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</h3>
                        <div class="control-item">
                            <span class="key">‚Üê‚Üí/AD</span>
                            <span class="action">–î–≤–∏–∂–µ–Ω–∏–µ</span>
                        </div>
                        <div class="control-item">
                            <span class="key">SPACE</span>
                            <span class="action">–ü—Ä—ã–∂–æ–∫</span>
                        </div>
                        <div class="control-item">
                            <span class="key">F/E</span>
                            <span class="action">–ê—Ç–∞–∫–∞</span>
                        </div>
                        <div class="control-item">
                            <span class="key">ESC</span>
                            <span class="action">–ü–∞—É–∑–∞</span>
                        </div>
                    </div>
                    
                    <div class="controls-column">
                        <h3>üõ°Ô∏è –ë–æ–Ω—É—Å—ã</h3>
                        <div class="bonus-item">
                            <span class="bonus-icon" style="color: #E74C3C;">‚ù§Ô∏è</span>
                            <span class="bonus-text">–ó–¥–æ—Ä–æ–≤—å–µ</span>
                        </div>
                        <div class="bonus-item">
                            <span class="bonus-icon" style="color: #3498DB;">‚ö°</span>
                            <span class="bonus-text">–°–∫–æ—Ä–æ—Å—Ç—å</span>
                        </div>
                        <div class="bonus-item">
                            <span class="bonus-icon" style="color: #9B59B6;">üëü</span>
                            <span class="bonus-text">–ü—Ä—ã–∂–æ–∫</span>
                        </div>
                        <div class="bonus-item">
                            <span class="bonus-icon" style="color: #F39C12;">üí•</span>
                            <span class="bonus-text">–£—Ä–æ–Ω</span>
                        </div>
                    </div>
                </div>
                
                <div class="enemies-section">
                    <h3>üëæ –í—Ä–∞–≥–∏</h3>
                    <div class="enemy-grid">
                        <div class="enemy-card">
                            <div class="enemy-color patrol"></div>
                            <div class="enemy-info">
                                <h4>–ü–∞—Ç—Ä—É–ª—å–Ω—ã–π</h4>
                                <p>–•–æ–¥–∏—Ç –ø–æ –º–∞—Ä—à—Ä—É—Ç—É</p>
                            </div>
                        </div>
                        <div class="enemy-card">
                            <div class="enemy-color chaser"></div>
                            <div class="enemy-info">
                                <h4>–ü—Ä–µ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å</h4>
                                <p>–°–ª–µ–¥—É–µ—Ç –∑–∞ –∏–≥—Ä–æ–∫–æ–º</p>
                            </div>
                        </div>
                        <div class="enemy-card">
                            <div class="enemy-color shooter"></div>
                            <div class="enemy-info">
                                <h4>–°—Ç—Ä–µ–ª–æ–∫</h4>
                                <p>–ê—Ç–∞–∫—É–µ—Ç –∏–∑–¥–∞–ª–µ–∫–∞</p>
                            </div>
                        </div>
                        <div class="enemy-card">
                            <div class="enemy-color boss"></div>
                            <div class="enemy-info">
                                <h4>–ë–æ—Å—Å</h4>
                                <p>–û—á–µ–Ω—å —Å–∏–ª—å–Ω—ã–π</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="level-goals">
                    <h3>üéØ –£—Ä–æ–≤–Ω–∏</h3>
                    <div class="goals-grid">
                        <div class="goal">–£—Ä.1: 5 –º–æ–Ω–µ—Ç</div>
                        <div class="goal">–£—Ä.2: 8 –º–æ–Ω–µ—Ç</div>
                        <div class="goal">–£—Ä.3: 12 –º–æ–Ω–µ—Ç</div>
                        <div class="goal">–£—Ä.4: 15 –º–æ–Ω–µ—Ç</div>
                        <div class="goal">–£—Ä.5: –ë–æ—Å—Å!</div>
                    </div>
                </div>
                
                <button id="startButton" class="start-btn">
                    <span class="btn-text">üöÄ –ù–ê–ß–ê–¢–¨</span>
                    <span class="btn-hint">–ù–∞–∂–º–∏ –ª—é–±—É—é –∫–ª–∞–≤–∏—à—É</span>
                </button>
                
                <div class="tips">
                    <p>üí° –°–æ–≤–µ—Ç: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–Ω—É—Å—ã —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏!</p>
                </div>
            </div>
        </div>
        
        <!-- –≠–∫—Ä–∞–Ω –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–≥—Ä—ã -->
        <div id="gameOverScreen" class="screen hidden">
            <div class="result-content">
                <h2 id="gameOverTitle">üéÆ –ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞!</h2>
                <div class="result-stats">
                    <div class="result-stat">
                        <span class="stat-label">–°—á–µ—Ç:</span>
                        <span class="stat-value" id="finalScore">0</span>
                    </div>
                    <div class="result-stat">
                        <span class="stat-label">–£—Ä–æ–≤–µ–Ω—å:</span>
                        <span class="stat-value" id="finalLevel">1</span>
                    </div>
                </div>
                
                <div class="result-message" id="resultMessage">
                    –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞!
                </div>
                
                <div class="result-actions">
                    <button id="restartButton" class="action-btn restart-btn">
                        üîÑ –ó–∞–Ω–æ–≤–æ
                    </button>
                    <button id="menuButton" class="action-btn menu-btn">
                        üè† –ú–µ–Ω—é
                    </button>
                </div>
            </div>
        </div>
        
        <!-- –≠–∫—Ä–∞–Ω –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è -->
        <div id="levelCompleteScreen" class="screen hidden">
            <div class="level-complete-content">
                <h2>üéâ –£—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–π–¥–µ–Ω!</h2>
                <div class="completion-stats">
                    <div class="completion-stat">
                        <span class="stat-label">–ë–æ–Ω—É—Å:</span>
                        <span class="stat-value">+<span id="totalBonus">0</span></span>
                    </div>
                </div>
                
                <div class="level-progress">
                    <div class="progress-text">
                        –£—Ä–æ–≤–µ–Ω—å: <span id="currentLevel">1</span>/5
                    </div>
                </div>
                
                <button id="nextLevelButton" class="next-level-btn">
                    ‚è≠Ô∏è –î–∞–ª–µ–µ
                </button>
            </div>
        </div>
        
        <!-- HUD –≤–æ –≤—Ä–µ–º—è –∏–≥—Ä—ã -->
        <div class="game-hud">
            <div class="hud-left">
                <div class="hud-item">
                    <span class="hud-icon">‚ù§Ô∏è</span>
                    <span class="hud-value" id="health">3</span>
                </div>
                <div class="hud-item">
                    <span class="hud-icon">‚≠ê</span>
                    <span class="hud-value" id="score">0</span>
                </div>
            </div>
            
            <div class="hud-center">
                <div class="level-display">
                    –£–†.<span id="level">1</span>
                </div>
                <div class="coins-display">
                    ü™ô <span id="coins">0/0</span>
                </div>
            </div>
            
            <div class="hud-right">
                <div class="hud-item">
                    <span class="hud-icon">‚è±Ô∏è</span>
                    <span class="hud-value" id="timer">3:00</span>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="js/main.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // –°–æ–∑–¥–∞–µ–º –∫–Ω–æ–ø–∫—É –º–µ–Ω—é
            const menuButton = document.createElement('button');
            menuButton.id = 'menuButton';
            menuButton.className = 'action-btn menu-btn';
            menuButton.innerHTML = 'üè† –ú–µ–Ω—é';
            menuButton.style.display = 'none';
            
            const resultActions = document.querySelector('.result-actions');
            if (resultActions) {
                resultActions.appendChild(menuButton);
            }
            
            menuButton.addEventListener('click', function() {
                location.reload();
            });
            
            // –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ —Ä–∞–∑–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã —ç–∫—Ä–∞–Ω–∞
            function adaptToScreenSize() {
                const screen = document.getElementById('startScreen');
                if (!screen) return;
                
                const screenHeight = window.innerHeight;
                if (screenHeight < 800) {
                    screen.classList.add('compact');
                } else {
                    screen.classList.remove('compact');
                }
            }
            
            window.addEventListener('resize', adaptToScreenSize);
            adaptToScreenSize();
            
            // –°–∫—Ä—ã–≤–∞–µ–º –ª–∏—à–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö
            function hideExtraElements() {
                const tips = document.querySelector('.tips');
                const subtitle = document.querySelector('.subtitle');
                
                if (window.innerHeight < 700) {
                    if (tips) tips.style.display = 'none';
                    if (subtitle) subtitle.style.display = 'none';
                } else {
                    if (tips) tips.style.display = 'block';
                    if (subtitle) subtitle.style.display = 'block';
                }
            }
            
            window.addEventListener('resize', hideExtraElements);
            hideExtraElements();
        });
    </script>
</body>
</html>